@layer base {
  /* =========================================
     Base Layer
     Purpose:
     - Normalize defaults
     - Set up typography, color, motion, and media
     - Stay low specificity via :where()
  ========================================= */

  /* Reset quirks */
  :where(*, *::before, *::after) {
    box-sizing: border-box;
  }

  :where(html, body) {
    margin: 0;
    padding: 0;
  }

  /* Type baseline */
  :where(body) {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Open Sans", sans-serif;
    font-size: var(--step-0);
    line-height: 1.5;
    text-rendering: optimizeLegibility;
    color: var(--ink-primary);
    background: var(--surface-page);
  }

  /* Make media elements behave predictably */
  :where(img, svg, video) {
    display: block;
    max-inline-size: 100%;
    block-size: auto;
  }

  /* Headings, paragraphs, lists â€” basic rhythm reset */
  :where(h1, h2, h3, h4, h5, h6, p, ul, ol, figure) {
    margin: 0;
    padding: 0;
    font-weight: inherit;
  }

  :where(ul, ol) {
    list-style-position: inside;
  }

  /* Accessible focus */
  :where(:focus-visible) {
    outline: 3px solid Highlight;
    outline-offset: 2px;
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    :where(*) {
      animation: none !important;
      transition: none !important;
      scroll-behavior: auto !important;
    }
  }
}
